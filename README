imap2maildir: a tool for mirroring an IMAP mailbox to a maildir.
Ryan Tucker <rtucker@gmail.com>, July 4, 2009
See COPYRIGHT for your rights, http://github.com/rtucker/imap2maildir/ for info

Usage: imap2maildir [options]

A script to copy a remote IMAP folder to a local maildir storage area.  Ideal
for incremental backups of mail from free webmail providers, or perhaps as an
alternative to fetchmail.

Options:
  --version             show program's version number and exit
  -h, --help            show this help message and exit

  Required options:
    -u USERNAME, --username=USERNAME
                        Username for authentication to IMAP server
    -d PATH, --destination=PATH
                        Destination maildir path, e.g. ~/Backups/Gmail

  Optional and debugging options:
    -p PASSWORD, --password=PASSWORD
                        Password for IMAP server.  Default: prompt user
    -H HOSTNAME, --hostname=HOSTNAME
                        Hostname of IMAP server, default: imap.gmail.com
    -P PORT, --port=PORT
                        Port number.  Default: 993 (SSL), 143 (clear)
    -v, --verbose       Turns up the verbosity
    -q, --quiet         Quiets all output (except prompts and errors)
    -r FOLDERNAME, --remote-folder=FOLDERNAME
                        Remote IMAP folder.  Default: [Gmail]/All Mail
    --create            If --destination doesn't exist, create it
    -T, --no-turbo      Check for message locally before asking IMAP.
                        Default: True
    -m MAX, --max-messages=MAX
                        Max messages to process in one run (0=infinite).
                        Default: 0
    -c CONFIGFILE, --config-file=CONFIGFILE
                        Configuration file to use.  Default: imap2maildir.conf
    -S, --ssl           Use SSL to connect, default: True

COMMAND LINE EXAMPLES
 $ imap2maildir -u bob@yourplace.com -d /home/bob/backups/mail --create
   Prompts you for bob@yourplace.com's password, uses the default mail server.
 $ imap2maildir -c blarf.conf
   Uses the configuration from blarf.conf
 $ imap2maildir -c something.conf -m 5000
   Uses the something.conf configuration, but overrides maxmessages to 5000.

CHANGES FROM ORIGINAL VERSION
The original version is in git as "0.99-beta".
 * The IMAP message-handling logic has been abstracted out to simpleimap.py.
   This hopes to become its own project to provide an interface to IMAP that
   resembles the "mailbox" module.  Eventually.  Thanks to TJ Fontaine
   for the first bits of this!
 * The original method of iterating through the messages has been replaced.
   The new method appears slower, BUT it is less resource-intensive.
   There's plenty of work for optimization on this, I'm sure.
 * A new column has been added to the seenmessages table, "uid".  This will
   store the uid along with the hash and message key, for faster iterating
   through established backups.  It should "auto-upgrade" itself (I hope).
   This allows for the use of TURBO MODE.
 * range-start and range-end have gone away, and max-messages now defaults
   to 0 (e.g. no limit).  I think we're past the point of large mailboxes
   causing explosions.
 * There is no more high-water-mark logic.  Again, this improves stability
   for the sake of efficiency.  Note that the -m will no longer be quite
   as useful (or necessary) as it was before.
 * There's a workaround for a SSL bug in some older versions of Python
   on Windows.  Thanks to Jeff Dean for this, and many other, bug reports!!

I think this is going to prove a lot more stable, especially for folks who
were running into MemoryError exceptions in imaplib.

Command line/config file option changes:
 Remove --range-start
 Remove --range-end
 Change default --max-messages to 0 (e.g. infinite)
 Replace --force-ssl and --no-ssl with just --ssl

THE NEXT GOAL
Less mailbox-specificity.  Turns out that my Gmail box is ~93,000 messages,
and that sucks for maildir.  By popular demand, mbox support is next on the
to-do list.

PROBLEMS/COMPLAINTS/SUGGESTIONS
Please use the github issue tracker at:
http://github.com/rtucker/imap2maildir/issues

MORE INFO
You can download the latest pile of poop at:
http://github.com/rtucker/imap2maildir/

